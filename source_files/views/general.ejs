<!DOCTYPE html>
<html>
    <head>
        <title>Interstitial Cystitis Network 2012 Food List </title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>
        <div class="container">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/general">Interstitial Cystitis List</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/register">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" 
                    href="/personal">Personal List</a>
                </li>
                <button onclick="document.getElementById('id01').style.display='block'" style="width:auto;">Login</button>
                <div id="id01" class="modal">
                    <form class="modal-content animate" action="link " method="GET">
                        <div class="imgcontainer">
                            <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
                        </div>
                        <div class="container">
                            <label for="uname"><b>Username</b></label>
                                <input type="text" placeholder="Enter Username" name="uname" required>
                            <label for="psw"><b>Password</b></label>
                                <input type="password" placeholder="Enter Password" name="psw" required>
                            <button type="submit">Login</button>
                            <label>
                                <input type="checkbox" checked="checked" name="remember"> Remember me
                            </label>
                        </div>
                      <div class="container" style="background-color:white">
                        <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                        <span class="psw">Forgot <a href="#">password?</a></span>
                      </div>
                    </form>
                </div>
                <script>
                   // Get the modal
                    var modal = document.getElementById('id01');

                    // When the user clicks anywhere outside of the modal, close it
                    window.onclick = function(event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                    }
                </script>
            </ul>
            
            <div class="container" id = "jumb">
                <img id = "food" src = "https://www.thecandidadiet.com/wp-content/uploads/2018/08/candida-foods-to-eat.jpg">
                <h3 class = "jumb-context">Food Database</h3>
                <h4 class = "jumb-context">
                General ICN Food List
                </h4>
            </div>
            <br>
            <br>
            <a href="/" class="btn btn-dark">Back to Home</a>
            <br>
            <h2><%= generalTableTitle %></h2>
            <% if (foods.length == 0) { %>
                <h4 class="not-found">Food not found: <%= searchedFood %></h4>
            <% } %>
            <br>
            <div class="container">
               <table class="table">
                <thead>
                    <tr>
                        <th scope="col">
                            Food Name
                        </th>
                        <th scope="col">
                            Comfort Rating
                        </th>
                        <th scope="col">
                            Origin
                        </th>
                        <th scope="col">
                            User Rating: "Bladder-Friendly"
                        </th>
                        <th scope="col">
                            User Rating: "Worth Trying"
                        </th>
                        <th scope="col">
                            User Rating: "To Avoid"
                        </th>
                        <th>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <% foods.forEach(function(food){ %>
                    <tr class="<% if(food.comfortRating == 1) { %>
                                    bladder-friendly
                                <% } else if (food.comfortRating == 2) { %>
                                    worth-trying
                                <% } else { %>
                                    to-avoid
                                <% } %>
                            ">
                        <th scope="row" >
                            <%= food.foodName %>
                        </th>
                        <td>
                            <% if (food.comfortRating == 1){ %>
                                Bladder-Friendly
                            <% } else if (food.comfortRating == 2) { %>
                                Worth Trying
                            <% } else { %>
                                Avoid
                            <% } %>
                        </td>
                        <td>
                            <%= food.origin %>
                        </td>
                        <td>
                            <%= food.voteFriendly %>
                        </td>
                        <td>
                            <%= food.voteTry %>
                        </td>
                        <td>
                            <%= food.voteAvoid %>
                        </td>
                    </tr>
                    <% }); %>
                </tbody>
            </table>
            </div>
        </div>
    </body>
</html>